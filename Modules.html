<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Module - Modules</title>

  <link rel="stylesheet" href="style.css">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    /* --- Choix du module (Matières) --- */
    .module-chooser {
      display: grid;
      grid-template-columns: repeat(4, minmax(170px, 1fr));
      gap: 14px;
      margin: 18px 0 8px;
      align-items: stretch;
    }

    @media (max-width: 900px) {
      .module-chooser { grid-template-columns: repeat(2, minmax(170px, 1fr)); }
    }
    @media (max-width: 420px) {
      .module-chooser { grid-template-columns: 1fr; }
    }

    .module-btn {
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 6px;
      width: 100%;
      min-height: 74px;
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.18);
      background: #fff;
      cursor: pointer;
      text-align: left;
      transition: transform .08s ease, box-shadow .15s ease, border-color .15s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      outline: none;
    }

    .module-btn .title { font-size: 1.05rem; font-weight: 800; }
    .module-btn .subtitle { font-size: 0.9rem; opacity: 0.75; }

    .module-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 26px rgba(0,0,0,0.10);
      border-color: rgba(0,0,0,0.35);
    }

    .module-btn.active {
      border-color: rgba(0,0,0,0.75);
      box-shadow: 0 12px 30px rgba(0,0,0,0.14);
    }

    /* --- Contenus des sections --- */
    .module-content { display: none; margin-top: 10px; }
    .module-content.active { display: block; }

    .submodule-list {
      display: grid;
      grid-template-columns: repeat(2, minmax(260px, 1fr));
      gap: 14px;
      margin-top: 10px;
      overflow: visible;
    }
    @media (max-width: 900px) {
      .submodule-list { grid-template-columns: 1fr; }
    }

    /* --- Cartes des sous-modules --- */
    details.submodule {
      position: relative;
      border: 1px solid rgba(0,0,0,0.18);
      border-radius: 14px;
      background: #fff;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      padding: 10px 12px;
      min-height: 66px;
    }

    details.submodule > summary {
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 10px;
      font-weight: 800;
      padding: 8px 6px;
      user-select: none;
    }

    /* --- Panneau des liens PDF (Overlay) --- */
    .pdf-links {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      width: 100%;
      z-index: 999;
      background: #fff;
      border: 1px solid rgba(0,0,0,0.18);
      border-radius: 14px;
      box-shadow: 0 16px 40px rgba(0,0,0,0.18);
      
      /* ESPACEMENT AJUSTÉ (AÉRÉ) */
      padding: 16px 14px; 
      display: none;
    }

    details.submodule[open] .pdf-links { 
      display: grid; 
      gap: 18px; /* Plus d'espace entre les lignes de PDF */
    }

    .pdf-link-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 4px;
    }

    .pdf-link-row .label {
      font-weight: 650;
      font-size: 1rem;
    }

    /* --- Boutons PDF --- */
    .btn-pdf {
      display: inline-block;
      /* BOUTON PLUS GRAND */
      padding: 10px 16px; 
      border-radius: 10px;
      border: 1px solid #2c3e50;
      background: #fff;
      text-decoration: none;
      color: #2c3e50;
      font-size: 0.9rem;
      font-weight: bold;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      transition: all 0.2s ease;
    }

    .btn-pdf:hover {
      background: #2c3e50;
      color: #fff;
      transform: translateY(-1px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }

    .content, main, body { overflow: visible; }
  </style>
</head>

<body>

<header>
  <h1>MathModule : Modules</h1>
  <nav>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="Modules.html">Modules</a></li>
      <li><a href="Fascicules.html">Fascicules</a></li>
      <li><a href="Videos.html">Vidéos</a></li>
    </ul>
  </nav>
</header>

<main>
  <section class="content">
    <div class="module-chooser" role="tablist">
      <button class="module-btn" data-target="alg" type="button" role="tab">
        <span class="title">Algèbre</span>
        <span class="subtitle">Exercices & PDF</span>
      </button>
      <button class="module-btn" data-target="geo" type="button" role="tab">
        <span class="title">Géométrie</span>
        <span class="subtitle">Bientôt disponible</span>
      </button>
      <button class="module-btn" data-target="tri" type="button" role="tab">
        <span class="title">Trigonométrie</span>
        <span class="subtitle">Bientôt disponible</span>
      </button>
      <button class="module-btn" data-target="ana" type="button" role="tab">
        <span class="title">Analyse</span>
        <span class="subtitle">Bientôt disponible</span>
      </button>
    </div>
    <p id="module-hint" style="text-align: center; margin-top: 20px; opacity: 0.7;">Cliquez sur une matière pour explorer les chapitres.</p>
  </section>

  <section class="module-content" id="alg" role="tabpanel">
    <section class="content">
      <h2>Chapitres d'Algèbre</h2>
      <div class="submodule-list">

        <details class="submodule">
          <summary>
            <span class="submodule-title">Valeurs absolues</span>
            <span class="submodule-meta">PDFs ▾</span>
          </summary>
          <div class="pdf-links">
            <div class="pdf-link-row">
              <span class="label">Cours (CB2)</span>
              <a class="btn-pdf" href="MM_ALG_VA_CB2.pdf" target="_blank">Ouvrir PDF</a>
            </div>
            <div class="pdf-link-row">
              <span class="label">Exercices III</span>
              <a class="btn-pdf" href="MM_ALG_VA_exercices_3.pdf" target="_blank">Ouvrir PDF</a>
            </div>
            </div>
        </details>

        </div>
    </section>
  </section>

  <section class="module-content" id="geo" role="tabpanel"><h2>Géométrie</h2><p>Contenu en cours de préparation...</p></section>
  <section class="module-content" id="tri" role="tabpanel"><h2>Trigonométrie</h2><p>Contenu en cours de préparation...</p></section>
  <section class="module-content" id="ana" role="tabpanel"><h2>Analyse</h2><p>Contenu en cours de préparation...</p></section>
</main>

<footer>
  <p>&copy; 2026 - MathModule</p>
</footer>

<script>
  // Gestion du changement de matière
  const buttons = document.querySelectorAll(".module-btn");
  const sections = document.querySelectorAll(".module-content");
  const hint = document.getElementById("module-hint");

  function showModule(id) {
    buttons.forEach(b => b.classList.toggle("active", b.dataset.target === id));
    sections.forEach(s => s.classList.toggle("active", s.id === id));
    if (hint) hint.style.display = "none";
    
    // Relancer MathJax pour le nouveau contenu
    if (window.MathJax && window.MathJax.typesetPromise) {
      MathJax.typesetPromise();
    }
  }

  buttons.forEach(btn => btn.addEventListener("click", () => showModule(btn.dataset.target)));

  // Accordéon : Un seul chapitre ouvert à la fois
  document.querySelectorAll("details.submodule").forEach(d => {
    d.addEventListener("toggle", () => {
      if (d.open) {
        document.querySelectorAll("details.submodule").forEach(other => {
          if (other !== d) other.open = false;
        });
      }
    });
  });

  // Fermer le panneau si on clique en dehors
  document.addEventListener("click", (e) => {
    const openOne = document.querySelector("details.submodule[open]");
    if (openOne && !openOne.contains(e.target)) {
      openOne.open = false;
    }
  });
</script>

</body>
</html>
